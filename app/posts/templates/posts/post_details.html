<!-- extende o arquivo do template global base.html -->
{% extends 'base.html' %}

<!-- definindo o title a ser inserido no base.html -->
{% block title %}{{ post.titulo|title }}{% endblock %}

<!-- criando o bloco content a ser inserido no base.html -->
{% block content %}
 
<!-- inserindo os dados do post -->
<div class="row pt-5">
  <div class="col-xl"></div>
  <div class="col-xl-8 text-center">
    <h2>{{ post.titulo }}</h2>
    <h5>{{ post.excerto }}</h5>
    <p class="text-muted mt-4">
      <small>
        {{ post.id_autor }} | {{ post.data }} | {{ post.id_categoria }}
      </small>
    </p>
  </div>
  <div class="col-xl"></div>
</div>

<div class="row pt-5">
  <div class="col-xl"></div>
    <div class="col-xl-8">  
    <!-- inserindo a imagem -->
    <!-- se existir imagem cadastrada, adiciona no template -->
    <!-- senão utiliza a imagem default -->
    <img
      class="img-fluid pb-5"
      src="{% if post.imagem %}{{ post.imagem.url }}{% else %}{{ '/media/pictures/default.jpg' }}{% endif %}"
      alt="{{ post.titulo_post }}"
    />

    <!-- inserindo conteúdo do post, proveniente do summernote -->
    {{ post.conteudo|safe }}
  </div>
  <div class="col-xl"></div>
</div>

<div class="row pt-5">
  <div class="col-xl"></div>
  <div class="col-xl-8">
    <h2 class="my-3">Deixe um comentário</h2>

        <form method="POST" action="#envia_comentario">
            {% csrf_token %}
            <table class="table">

                {{ form }}
                <tr>
                    <td colspan="2">
                        <input
                            id="envia_comentario"
                            type="submit"
                            class="btn btn-primary"
                            value="Enviar"
                        />
                    </td>
                </tr>
            </table>
        </form>
  </div>
  <div class="col-xl"></div>
</div>

{% endblock %}
