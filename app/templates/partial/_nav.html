<!-- arquivo parcial com o menu do template global do sistema -->

<nav class="navbar navbar-expand-lg navbar-dark bg-primary static-top">
  <div class="container">
    <ul class="nav nav-pills">
      <li class="nav-item">
        <a class="navbar-brand nav-link active" href="{% url 'index' %}"
          >Home</a
        >
      </li>
      <li class="nav-item dropdown">
        <a
          class="navbar-brand nav-link dropdown-toggle"
          data-toggle="dropdown"
          href="#"
          role="button"
          aria-haspopup="true"
          aria-expanded="false"
          >Categorias</a
        >
        <div class="dropdown-menu">
          <!-- se existirem categorias cadastradas -->
          {% if categories %}

          <!-- iterando no array de categorias -->
          {% for categoria in categories %}

          <a
            class="dropdown-item"
            href="{% url 'post_category' categoria.nome %}"
            >{{ categoria.nome }}</a
          >
          <div class="dropdown-divider"></div>

          {% endfor %}

          <!-- senão, insere opção genérica -->
          {% else%}

          <a class="dropdown-item" href="{% url 'index' %}">Sem categorias</a>
          {% endif %}
        </div>
      </li>
    </ul>
    <!-- adicionando o formulário com action para url post_search -->
    <form
      class="form-inline my-2 my-lg-0 ml-lg-4"
      action="{% url 'post_search' %}"
    >
      <input
        name="s"
        value="{{ request.GET.termo }}"
        class="form-control mr-sm-2"
        type="search"
        placeholder="Pesquisar"
        aria-label="Search"
      />
    </form>
  </div>
</nav>
